gsap.registerPlugin(Observer,ScrambleTextPlugin);let sections=document.querySelectorAll("section"),images=document.querySelectorAll(".bg"),headings=gsap.utils.toArray(".section-heading"),outerWrappers=gsap.utils.toArray(".outer"),innerWrappers=gsap.utils.toArray(".inner"),splitHeadings=Array.from(sections).map((e,t)=>{if(5===t||7===t)return null;let a=e.querySelector(".section-heading");return a?new SplitText(a,{type:"chars,words,lines",linesClass:"clip-text"}):null}),currentIndex=-1,wrap=gsap.utils.wrap(0,sections.length),animating,subStep=0,inputBuffer="";function gotoSection(e,t){animating=!0;let a=-1===t?-1:1,o=gsap.timeline({defaults:{duration:1.25,ease:"power1.inOut"},onComplete:()=>animating=!1});if(currentIndex>=0&&(gsap.set(sections[currentIndex],{zIndex:0}),o.to(images[currentIndex],{yPercent:-15*a}).set(sections[currentIndex],{autoAlpha:0})),gsap.set(sections[e],{autoAlpha:1,zIndex:1}),o.fromTo([outerWrappers[e],innerWrappers[e]],{yPercent:e=>e?-100*a:100*a},{yPercent:0},0).fromTo(images[e],{yPercent:15*a},{yPercent:0},0),0===e){let t=document.querySelector(".chat-bubble");t&&(o.fromTo(t,{autoAlpha:0,scale:0,rotation:-20},{autoAlpha:1,scale:1,rotation:0,duration:.8,ease:"back.out(2)"},.5),o.call(()=>{t.classList.remove("loud"),t.offsetWidth,t.classList.add("loud")},null,1.2)),splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.2)}else if(1===e){let t=document.querySelector(".episode-icon");o.fromTo(t,{autoAlpha:0,scale:0,rotation:-20},{autoAlpha:1,scale:1,rotation:15,duration:1,ease:"back.out(1.7)"},.5),splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.2)}else if(2===e){subStep=0,gsap.set(".third .desc-line",{autoAlpha:0});let t=headings[e];t.textContent="0%",t.style.color="#FFFFFF";let a={val:0};o.fromTo(t,{autoAlpha:0,x:-30},{autoAlpha:1,x:0,duration:.4},.2),o.to(a,{val:47,duration:2.5,ease:"power4.out",onUpdate:()=>{t.textContent=Math.floor(a.val)+"%"}},.3).to(t,{color:"#FF9500",duration:.6},"-=0.6"),o.set(".third .typing-indicator",{display:"flex"},"+=0.1"),o.fromTo(".third .typing-indicator",{autoAlpha:0,y:10},{autoAlpha:1,y:0,duration:.5},"+=0.1")}else if(3===e){let t=document.querySelector(".brain-icon");o.fromTo(t,{autoAlpha:0,scale:0,rotation:10},{autoAlpha:1,scale:1,rotation:-10,duration:1,ease:"back.out(1.7)"},.5),splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.2)}else if(4===e){let t=document.querySelector(".arrow-icon");o.fromTo(t,{autoAlpha:0,scale:0,rotation:-20},{autoAlpha:1,scale:1,rotation:-15,duration:1,ease:"back.out(1.7)"},.5),splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.2)}else if(5===e){subStep=0,gsap.set(".sixth .desc-line",{autoAlpha:0});let t=headings[e],a=t.textContent.trim();o.fromTo(t,{autoAlpha:0,x:-30},{autoAlpha:1,x:0,duration:.4},.2),o.to(t,{duration:2,scrambleText:{text:a,chars:"0123456789!@#$%^&*",revealDelay:.3,speed:.4}},.3);let n=document.querySelector(".sixth .intro .desc-line");if(n){let e=n.textContent.trim();o.set(n,{autoAlpha:1},1),o.to(n,{duration:1.5,scrambleText:{text:e,chars:"0123456789!@#$%^&*",revealDelay:.2,speed:.4}},1)}o.set(".sixth .typing-indicator",{display:"flex"},"+=0.1"),o.fromTo(".sixth .typing-indicator",{autoAlpha:0,y:10},{autoAlpha:1,y:0,duration:.5},"+=0.1")}else if(6===e){let t=document.querySelector(".thinking-icon");o.fromTo(t,{autoAlpha:0,scale:0,rotation:-20},{autoAlpha:1,scale:1,rotation:10,duration:1,ease:"back.out(1.7)"},.5),splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.2)}else if(7===e){subStep=0,gsap.set(".eighth .desc-line",{autoAlpha:0});let t=headings[e],a=t.textContent.trim();o.fromTo(t,{autoAlpha:0,x:-30},{autoAlpha:1,x:0,duration:.4},.2),o.to(t,{duration:2,scrambleText:{text:a,chars:"0123456789!@#$%^&*",revealDelay:.3,speed:.4}},.3);let n=document.querySelector(".eighth .intro .desc-line"),s=n.textContent.trim();o.set(n,{autoAlpha:1},1),o.to(n,{duration:1.5,scrambleText:{text:s,chars:"0123456789!@#$%^&*",revealDelay:.2,speed:.4}},1),o.set(".eighth .typing-indicator",{display:"flex"},"+=0.1"),o.fromTo(".eighth .typing-indicator",{autoAlpha:0,y:10},{autoAlpha:1,y:0,duration:.5},"+=0.1")}else if(8===e){subStep=3;let e=document.querySelector(".ninth .typing-indicator");gsap.killTweensOf(".ninth .chat-bubble"),gsap.killTweensOf(".ninth .typing-indicator"),gsap.set(".ninth .desc-group",{display:"none"}),gsap.set(e,{autoAlpha:0,display:"none"}),o.call(()=>{let t=gsap.timeline();t.call(()=>{e.classList.remove("on-right"),e.classList.add("on-left")}),t.set(e,{display:"flex",autoAlpha:0}),t.to(e,{autoAlpha:1,x:0,duration:.5}),t.to({},{duration:3}),t.to(e,{autoAlpha:0,duration:.3}),t.call(()=>revealBubble(1,".ninth")),t.to({},{duration:1}),t.call(()=>{e.classList.remove("on-left"),e.classList.add("on-right")}),t.to(e,{autoAlpha:1,duration:.5}),t.to({},{duration:3}),t.to(e,{autoAlpha:0,duration:.3}),t.call(()=>revealBubble(2,".ninth")),t.to({},{duration:1}),t.call(()=>{e.classList.remove("on-right"),e.classList.add("on-left")}),t.to(e,{autoAlpha:1,duration:.5}),t.to({},{duration:3}),t.to(e,{autoAlpha:0,duration:.3}),t.call(()=>revealBubble(3,".ninth")),t.to({},{duration:1.5}),t.call(()=>{e.classList.remove("on-left"),e.classList.add("on-right")}),t.to(e,{autoAlpha:1,duration:.8})},null,1)}else if(10===e){subStep=0;let t=document.querySelector(".tenth .intro-bubble .chat-bubble"),a=document.querySelector(".tenth .section-heading"),n=document.querySelector(".tenth .qr-code");n&&gsap.set(n,{autoAlpha:0}),t&&(o.fromTo(t,{autoAlpha:0,scale:0,rotation:-10},{autoAlpha:1,scale:1,rotation:0,duration:.8,ease:"back.out(2)"},.5),o.call(()=>{t&&(t.classList.remove("loud"),t.offsetWidth,t.classList.add("loud"))},null,1.2)),a&&splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:100},{autoAlpha:1,yPercent:0,duration:1,ease:"power2.out",stagger:{each:.02,from:"random"}},1)}else if(12===e){subStep=0;let e=gsap.utils.toArray(".keywords-faith-section .faith-keyword"),t=gsap.utils.toArray(".keywords-faith-section .sub-tag"),a=document.querySelector(".keywords-faith-section .final-title");gsap.set(t,{autoAlpha:0,scale:0}),gsap.set(a,{autoAlpha:0,y:-20,display:"none"}),e.length>0&&o.fromTo(e,{autoAlpha:0,scale:.5,y:30},{autoAlpha:1,scale:1,y:0,duration:.8,ease:"back.out(2)",stagger:.15},.8)}else if(13===e){subStep=0;let t=document.querySelector(".compass-section .intro-bubble .chat-bubble"),n=document.querySelector(".compass-section .section-heading"),s=document.querySelector(".compass-section .qr-code");s&&gsap.set(s,{autoAlpha:0}),t&&(o.fromTo(t,{autoAlpha:0,scale:0,rotation:-10},{autoAlpha:1,scale:1,rotation:0,duration:.8,ease:"back.out(2)"},.5),o.call(()=>{t&&(t.classList.remove("loud"),t.offsetWidth,t.classList.add("loud"))},null,1.2)),n&&splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.7)}else if(14===e){subStep=0;let t=document.querySelector(".guiding-section .intro-bubble .chat-bubble"),n=document.querySelector(".guiding-section .section-heading");t&&(o.fromTo(t,{autoAlpha:0,scale:0,rotation:-10},{autoAlpha:1,scale:1,rotation:0,duration:.8,ease:"back.out(2)"},.5),o.call(()=>{t&&(t.classList.remove("loud"),t.offsetWidth,t.classList.add("loud"))},null,1.2)),n&&splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.7);let s=document.querySelector(".guiding-section .qr-code");s&&gsap.set(s,{autoAlpha:0})}else splitHeadings[e]&&o.fromTo(splitHeadings[e].chars,{autoAlpha:0,yPercent:150*a},{autoAlpha:1,yPercent:0,duration:1,ease:"power2",stagger:{each:.02,from:"random"}},.2);currentIndex=e,sessionStorage.setItem("gsapSectionIndex",e)}function handleBack(){if(!animating)if(subStep>0){let e="."+sections[currentIndex].className.split(" ")[0];hideGroup(subStep,e),(2===currentIndex||5===currentIndex||7===currentIndex)&&(gsap.killTweensOf(`${e} .typing-indicator`),gsap.set(`${e} .typing-indicator`,{display:"flex",autoAlpha:1})),subStep--}else currentIndex>0&&gotoSection(currentIndex-1,-1)}function handleNext(){!animating&&(currentIndex<sections.length-1||12===currentIndex&&subStep<2)&&window.dispatchEvent(new Event("click"))}function hideGroup(e,t){let a=document.querySelector(`${t} .group-${e}`);if(a){gsap.set(a,{display:"none"});let e=a.querySelectorAll(".desc-line");gsap.set(e,{autoAlpha:0})}}gsap.set(outerWrappers,{yPercent:100}),gsap.set(innerWrappers,{yPercent:-100}),window.addEventListener("keydown",e=>{if("ArrowUp"===e.key&&handleBack(),"ArrowDown"===e.key&&handleNext(),e.key>="0"&&e.key<="9")inputBuffer+=e.key,clearTimeout(window.navTimer),window.navTimer=setTimeout(()=>{inputBuffer=""},2e3);else if("Enter"===e.key&&inputBuffer.length>0){let e=parseInt(inputBuffer)-1;e>=0&&e<sections.length&&gotoSection(e,e>currentIndex?1:-1),inputBuffer="",clearTimeout(window.navTimer)}else"Enter"!==e.key&&(inputBuffer="")}),Observer.create({type:"wheel,touch,pointer",wheelSpeed:-1,onDown:()=>!animating&&handleBack(),onUp:()=>!animating&&currentIndex<sections.length-1&&gotoSection(currentIndex+1,1),onRelease:e=>{e.isClick&&handleAdvance()},tolerance:10,preventDefault:!0});let savedIndex=parseInt(sessionStorage.getItem("gsapSectionIndex"));function revealBubble(e,t){let a=document.querySelector(`${t} .group-${e}`);if(a){gsap.set(a,{display:"flex"});let e=a.querySelector(".chat-bubble");gsap.fromTo(e,{autoAlpha:0,scale:.5,y:20},{autoAlpha:1,scale:1,y:0,duration:.6,ease:"back.out(1.7)"})}}function revealGroup(e,t){let a=document.querySelector(`${t} .group-${e}`);a&&gsap.set(a,{display:"flex"}),document.querySelectorAll(`${t} .group-${e} .desc-line`).forEach((e,t)=>{let a=e.textContent.trim();gsap.set(e,{autoAlpha:1}),gsap.to(e,{duration:1.5,scrambleText:{text:a,chars:"0123456789!@#$%^&*",revealDelay:.1,speed:.4},delay:.3*t})})}isNaN(savedIndex)&&(savedIndex=0),gotoSection(savedIndex,1),window.handleAdvance=e=>{if(animating||e&&e.target&&(e.target.closest(".qr-code")||e.target.closest("a")||e.target.closest("iframe")||e.target.closest(".episode-icon")))return;let t=!1;if(2===currentIndex)subStep<2&&(gsap.killTweensOf(".third .typing-indicator"),gsap.set(".third .typing-indicator",{autoAlpha:0,display:"none"}),revealGroup(++subStep,".third"),subStep<2&&(gsap.set(".third .typing-indicator",{display:"flex"}),gsap.to(".third .typing-indicator",{autoAlpha:1,duration:.5,delay:2.2})),t=!0);else if(5===currentIndex)subStep<1&&(gsap.killTweensOf(".sixth .typing-indicator"),gsap.set(".sixth .typing-indicator",{autoAlpha:0,display:"none"}),revealGroup(++subStep,".sixth"),t=!0);else if(7===currentIndex)subStep<4&&(gsap.killTweensOf(".eighth .typing-indicator"),gsap.set(".eighth .typing-indicator",{autoAlpha:0,display:"none"}),revealGroup(++subStep,".eighth"),subStep<4&&(gsap.set(".eighth .typing-indicator",{display:"flex"}),gsap.to(".eighth .typing-indicator",{autoAlpha:1,duration:.5,delay:2.2})),t=!0);else if(10===currentIndex){let e=document.querySelector(".tenth .qr-code");e&&0===subStep&&(gsap.fromTo(e,{autoAlpha:0,scale:.5,y:50},{autoAlpha:1,scale:1,y:0,duration:.8,ease:"back.out(2)",pointerEvents:"auto"}),subStep=1,t=!0)}else if(14===currentIndex){let e=document.querySelector(".guiding-section .qr-code");e&&0===subStep&&(gsap.fromTo(e,{autoAlpha:0,scale:.5,y:50},{autoAlpha:1,scale:1,y:0,duration:.8,ease:"back.out(2)",pointerEvents:"auto"}),subStep=1,t=!0)}else if(13===currentIndex){let e=document.querySelector(".compass-section .qr-code");e&&0===subStep&&(gsap.fromTo(e,{autoAlpha:0,scale:.5,y:50},{autoAlpha:1,scale:1,y:0,duration:.8,ease:"back.out(2)",pointerEvents:"auto"}),subStep=1,t=!0)}else if(12===currentIndex){if(0===subStep){let e=gsap.utils.toArray(".keywords-faith-section .sub-tag");e.length>0&&(gsap.fromTo(e,{autoAlpha:0,scale:0,rotation:15},{autoAlpha:1,scale:1,rotation:0,duration:.6,ease:"back.out(2)",stagger:.1,onComplete:()=>{subStep=1}}),t=!0)}else if(1===subStep){let e=document.querySelector(".keywords-faith-section .final-title");if(e){gsap.set(e,{display:"block",autoAlpha:1}),gsap.from(e,{height:0,marginBottom:0,duration:1,ease:"power3.inOut"});let a=new SplitText(e,{type:"chars"});gsap.fromTo(a.chars,{autoAlpha:0,y:-50},{autoAlpha:1,y:0,duration:1,ease:"back.out(1.7)",stagger:.05,onComplete:()=>{subStep=2}}),t=!0}}}!t&&currentIndex<sections.length-1&&gotoSection(currentIndex+1,1)},window.addEventListener("click",window.handleAdvance),document.querySelector(".chat-bubble")?.addEventListener("click",function(e){e.stopPropagation(),this.classList.remove("loud"),this.offsetWidth,this.classList.add("loud")});
//# sourceMappingURL=cca-ai-0210.e6585a54.js.map
